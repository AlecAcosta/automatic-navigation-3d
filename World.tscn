[gd_scene load_steps=11 format=2]

[ext_resource path="res://Player.gd" type="Script" id=1]
[ext_resource path="res://Follower.gd" type="Script" id=2]

[sub_resource type="NavigationMesh" id=2]
vertices = PoolVector3Array( -2.23656, 0.242374, -0.0365596, -1.93656, 0.242374, 0.46344, -1.83656, 0.242374, 0.363441, -1.73656, 0.242374, -0.53656, -0.93656, 0.242374, -0.53656, -0.83656, 0.242374, -0.0365596, -0.53656, 0.242374, -0.0365596, -0.436559, 0.242374, -0.53656, -0.436559, 0.242374, -0.53656, 0.363441, 0.242374, -0.53656, 1.66344, 0.242374, -1.43656, -0.0365596, 0.242374, -2.23656, -1.63656, 0.242374, -1.43656, 0.363441, 0.242374, -0.53656, 0.46344, 0.242374, -0.0365596, 0.763441, 0.242374, -0.0365596, 0.863441, 0.242374, -0.53656, 0.363441, 0.242374, -0.53656, 0.863441, 0.242374, -0.53656, 1.66344, 0.242374, -1.43656, 1.66344, 0.242374, -0.53656, 1.76344, 0.242374, 0.263441, 2.06344, 0.242374, 0.263441, 2.16344, 0.242374, -0.236559, 1.66344, 0.242374, -1.43656, -1.63656, 0.242374, -1.43656, -0.93656, 0.242374, -0.53656, -0.436559, 0.242374, -0.53656, -1.63656, 0.242374, -1.43656, -1.73656, 0.242374, -0.53656, -0.93656, 0.242374, -0.53656, 0.863441, 0.242374, -0.53656, 1.66344, 0.242374, -0.53656, 1.66344, 0.242374, -1.43656, -1.63656, 0.242374, -1.43656, -2.23656, 0.242374, -0.0365596, -1.73656, 0.242374, -0.53656, 2.06344, 0.242374, 0.263441, 1.76344, 0.242374, 0.263441, 1.66344, 0.242374, 0.46344, 1.56344, 0.242374, 1.56344, 0.863441, 0.242374, 0.46344, 0.763441, 0.242374, -0.0365596, 0.46344, 0.242374, -0.0365596, 0.363441, 0.242374, 0.46344, 1.56344, 0.242374, 1.56344, 0.863441, 0.242374, 0.46344, 0.363441, 0.242374, 0.46344, -0.436559, 0.242374, 0.46344, -0.53656, 0.242374, -0.0365596, -0.83656, 0.242374, -0.0365596, -0.93656, 0.242374, 0.46344, -0.436559, 0.242374, 0.46344, -0.93656, 0.242374, 0.46344, -1.43656, 0.242374, 1.66344, -0.93656, 0.242374, 0.46344, -1.83656, 0.242374, 0.363441, -1.93656, 0.242374, 0.46344, -1.43656, 0.242374, 1.66344, 1.56344, 0.242374, 1.56344, 1.66344, 0.242374, 0.46344, 0.863441, 0.242374, 0.46344, 0.16344, 0.242374, 2.16344, 1.56344, 0.242374, 1.56344, 0.363441, 0.242374, 0.46344, -0.436559, 0.242374, 0.46344, -1.43656, 0.242374, 1.66344 )
polygons = [ PoolIntArray( 1, 0, 2 ), PoolIntArray( 2, 0, 3 ), PoolIntArray( 5, 4, 6 ), PoolIntArray( 6, 4, 7 ), PoolIntArray( 8, 12, 9 ), PoolIntArray( 9, 12, 11 ), PoolIntArray( 9, 11, 10 ), PoolIntArray( 14, 13, 15 ), PoolIntArray( 15, 13, 16 ), PoolIntArray( 17, 19, 18 ), PoolIntArray( 22, 21, 23 ), PoolIntArray( 23, 21, 20 ), PoolIntArray( 23, 20, 24 ), PoolIntArray( 27, 26, 25 ), PoolIntArray( 30, 29, 28 ), PoolIntArray( 33, 32, 31 ), PoolIntArray( 36, 35, 34 ), PoolIntArray( 38, 37, 39 ), PoolIntArray( 39, 37, 40 ), PoolIntArray( 42, 41, 43 ), PoolIntArray( 43, 41, 44 ), PoolIntArray( 47, 46, 45 ), PoolIntArray( 50, 49, 51 ), PoolIntArray( 51, 49, 48 ), PoolIntArray( 54, 53, 52 ), PoolIntArray( 56, 55, 57 ), PoolIntArray( 57, 55, 58 ), PoolIntArray( 59, 61, 60 ), PoolIntArray( 65, 64, 66 ), PoolIntArray( 66, 64, 62 ), PoolIntArray( 62, 64, 63 ) ]
cell/size = 0.1
agent/height = 0.5
agent/radius = 0.16
agent/max_climb = 0.1
region/min_size = 4.0

[sub_resource type="PlaneMesh" id=17]
size = Vector2( 5, 5 )

[sub_resource type="CubeMesh" id=18]
size = Vector3( 0.5, 0.5, 0.5 )

[sub_resource type="SpatialMaterial" id=12]
albedo_color = Color( 0.498039, 0.733333, 0.278431, 1 )

[sub_resource type="SphereMesh" id=11]
material = SubResource( 12 )
radius = 0.15
height = 0.3
radial_segments = 8
rings = 8

[sub_resource type="SphereShape" id=13]
radius = 0.15

[sub_resource type="SpatialMaterial" id=14]
albedo_color = Color( 0.976471, 0.203922, 0.0392157, 1 )

[sub_resource type="SphereMesh" id=15]
material = SubResource( 14 )
radius = 0.15
height = 0.3
radial_segments = 8
rings = 8

[node name="World" type="Spatial"]

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.642788, 0.766044, 0, -0.766044, 0.642788, 0, 3, 3 )

[node name="Navigation" type="Navigation" parent="."]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
navmesh = SubResource( 2 )

[node name="CSGCombiner" type="CSGCombiner" parent="Navigation/NavigationMeshInstance"]
use_collision = true

[node name="CSGMesh" type="CSGMesh" parent="Navigation/NavigationMeshInstance/CSGCombiner"]
mesh = SubResource( 17 )

[node name="CSGMesh2" type="CSGMesh" parent="Navigation/NavigationMeshInstance/CSGCombiner"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0 )
mesh = SubResource( 18 )

[node name="CSGMesh3" type="CSGMesh" parent="Navigation/NavigationMeshInstance/CSGCombiner"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.3, 0.25, 0 )
mesh = SubResource( 18 )

[node name="CSGMesh4" type="CSGMesh" parent="Navigation/NavigationMeshInstance/CSGCombiner"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.3, 0.25, 0 )
mesh = SubResource( 18 )

[node name="CSGTorus" type="CSGTorus" parent="Navigation/NavigationMeshInstance/CSGCombiner"]
inner_radius = 2.48167
outer_radius = 2.84569

[node name="CSGTorus2" type="CSGTorus" parent="Navigation/NavigationMeshInstance/CSGCombiner"]
operation = 2
inner_radius = 2.82743
outer_radius = 3.66303

[node name="Player" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.7, 0 )
script = ExtResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Player"]
mesh = SubResource( 11 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Player"]
shape = SubResource( 13 )

[node name="Follower" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, 2 )
script = ExtResource( 2 )

[node name="MeshInstance" type="MeshInstance" parent="Follower"]
mesh = SubResource( 15 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Follower"]
shape = SubResource( 13 )

[node name="Timer" type="Timer" parent="Follower"]
wait_time = 0.5
autostart = true

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.707107, 0.5, -0.5, 0, 0.707107, 0.707107, 0.707107, -0.5, 0.5, 0, 0, 0 )
light_energy = 0.25
shadow_enabled = true

[connection signal="timeout" from="Follower/Timer" to="Follower" method="_on_Timer_timeout"]
